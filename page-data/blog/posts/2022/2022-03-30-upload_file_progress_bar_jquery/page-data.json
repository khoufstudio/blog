{"componentChunkName":"component---src-components-post-page-template-index-js","path":"/blog/posts/2022/2022-03-30-upload_file_progress_bar_jquery/","result":{"data":{"mdx":{"id":"a5d0f1d9-9926-592b-a183-9a48c05beab6","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Upload File menggunakan drag and drop progressbar dengan jquery dan PHP\",\n  \"date\": \"2022-03-30T00:00:00.000Z\",\n  \"published\": true,\n  \"thumbnail\": \"php-tutorial-logo.png\",\n  \"tags\": [\"PHP\", \"JS Basic\", \"JQuery\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Pada postingan kali ini kita akan belajar untuk membuat aplikasi upload file menggunakan PHP.\\nDi aplikasi ini kita bisa mengupload file dengan menglik tombol upload atau dengan drag and drop.\\nSaat proses upload berlangsung akan ada progress bar untuk menunjukan progres file yang kita upload terkirim ke server.\\nTanpa berlama-lama, silahkan buat folder kemudian buatlah file-file di bawah ini: \"), mdx(\"h2\", null, \"Struktur File dan Folder Projek\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"\\u251C\\u2500\\u2500 index.html\\n\\u251C\\u2500\\u2500 script.js\\n\\u251C\\u2500\\u2500 upload.php\\n\\u2514\\u2500\\u2500 uploads/\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h2\", null, \"File HTML\"), mdx(\"p\", null, \"Pada file html ini kita akan menambahkan \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<input id=\\\"file\\\"\"), \" sebagai input file untuk upload.\\nDi sini input tersebut akan disembunyikan, sebagai gantinya fungsi upload akan ditrigger oleh \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div id=\\\"uploadfile\\\"\"), \" ketika mengklik atau mendrag and drop.\\nKetika ada trigger tersebut, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<input id=\\\"file\\\"\"), \" akan berisi file yang akan diupload.\\nSelengkapnya silahkan lihat kode dibawah ini.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"index.html\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n  <meta charset=\\\"UTF-8\\\">\\n  <title>Upload File Drag and Drop with Progresbar</title>\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css\\\" integrity=\\\"sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn\\\" crossorigin=\\\"anonymous\\\">\\n  <style>\\n    .upload-area {\\n      border: 3px dashed slategray;\\n    }\\n\\n    .upload-area:hover {\\n      cursor: pointer;\\n    }\\n  </style>\\n</head>\\n<body>\\n  <div class=\\\"container mt-4\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col\\\">\\n        <a class=\\\"btn btn-primary\\\" href=\\\"uploads/\\\">All download files</a>\\n      </div>\\n    </div>\\n    <input id=\\\"file\\\" type=\\\"file\\\" name=\\\"file\\\" style=\\\"display: none;\\\">\\n    <div id=\\\"uploadfile\\\" class=\\\"mt-4 p-5 rounded upload-area w-75\\\">\\n      <h3 id=\\\"text_info_upload\\\" class=\\\"text-center text-muted\\\">Drag and Drop file here<br />or<br/>Click to select file</h3>\\n      <div class=\\\"progress\\\" style=\\\"display: none;\\\">\\n        <div class=\\\"progress-bar progress-bar-striped\\\" role=\\\"progressbar\\\" style=\\\"width: 0%\\\"></div>\\n      </div>\\n    </div>\\n  </div>\\n  <script src=\\\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js\\\"></script>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js\\\" integrity=\\\"sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF\\\" crossorigin=\\\"anonymous\\\"></script>\\n  <script src=\\\"script.js\\\" type=\\\"text/javascript\\\"></script>\\n</body>\\n</html>\\n\")), mdx(\"p\", null, \"Tampilan dari kode di atas kurang lebih akan menjadi seperti ini: \"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"640px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/ab6f7a020ff124600716cb6f1501f5e5/1cfc2/tampilan_upload.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"36.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVQY02VQW24CMQzMXSv1l4uhqoJD9ACV2l/EF2jZR6vdJH4ljGEXLe3IcRI7Y48TPg78spXXN9ns5PQjxYRY+D9kBj+MORz7sv209y/bf9tvtlrMrDyjImALdDEkgjKVIrVqraKK0krEMSXYFN2PU4wpL63Vd1VizkQhQ6UV8/L1DuhpLm3bDadzc24u/TC0Xa+qdQW0BT9gQcEq6n4cJxC6fgAZPqVcn+FkYu+8Jt+BihCbM7nmmKDlzwNQQAwYAepRBhd62G0yn9O/wQ/zA56zPqzoFe9Dln2rtA/LAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Tampilan Aplikasi\",\n    \"title\": \"Tampilan Aplikasi\",\n    \"src\": \"/static/ab6f7a020ff124600716cb6f1501f5e5/6af66/tampilan_upload.png\",\n    \"srcSet\": [\"/static/ab6f7a020ff124600716cb6f1501f5e5/69538/tampilan_upload.png 160w\", \"/static/ab6f7a020ff124600716cb6f1501f5e5/72799/tampilan_upload.png 320w\", \"/static/ab6f7a020ff124600716cb6f1501f5e5/6af66/tampilan_upload.png 640w\", \"/static/ab6f7a020ff124600716cb6f1501f5e5/1cfc2/tampilan_upload.png 900w\"],\n    \"sizes\": \"(max-width: 640px) 100vw, 640px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h2\", null, \"File Javascript\"), mdx(\"p\", null, \"Kode javascript di bawah merupakan rangkaian kode untuk menghandle drag and drop atau klik update \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div class=\\\"upload-area\\\"\"), \".\\nSaat file telah dipilih kemudian aplikasi akan mengirimkan ke server dalam bentuk \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FormData\"), \", setelah itu data dikirim ke server.\\nPada saat proses mengiriman data, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div class=\\\"progress-bar\\\"\"), \" akan berubah panjangnya sesuai dengan presentasi upload file nya. \"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"script.js\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"function drop(e) {\\n  e.stopPropagation()\\n  e.preventDefault()\\n\\n  $('#text_info_upload').text('Drop')\\n}\\n\\n$(function() {\\n  $('html').on('dragover', function(e) {\\n    e.preventDefault()\\n    e.stopPropagation()\\n    $('#text_info_upload').text('Drag here')\\n  })\\n\\n  // dragenter or dragover\\n  $('.upload-area')\\n    .on('dragenter', (e) => drop(e))\\n    .on('dragover', (e) => drop(e))\\n\\n  // drop \\n  $('.upload-area').on('drop', function(e) {\\n    e.stopPropagation()\\n    e.preventDefault()\\n    var file = e.originalEvent.dataTransfer.files\\n\\n    var formData = new FormData()\\n    formData.append('file', file[0])\\n\\n    uploadData(formData)\\n  })\\n\\n  $('#uploadfile').click(function() {\\n    $('#file').click()\\n  })\\n\\n  $('#file').change(function() {\\n    $('#text_info_upload').text('Please wait')\\n    var fd = new FormData()\\n\\n    var files = $('#file')[0].files[0]\\n\\n    fd.append('file', files)\\n\\n    uploadData(fd)\\n  })\\n})\\n\\nfunction uploadData(formData) {\\n  $.ajax({\\n    xhr: function() {\\n      var xhr = new window.XMLHttpRequest()\\n      xhr.upload.addEventListener('progress', function(evt) {\\n        if (evt.lengthComputable) {\\n          progress = Math.round((evt.loaded / evt.total) * 100)\\n          $('.progress-bar').width(progress + '%')\\n        }\\n      })\\n\\n      return xhr\\n    },\\n    url: 'upload.php',\\n    type: 'POST',\\n    data: formData,\\n    contentType: false,\\n    processData: false,\\n    dataType: 'json',\\n    beforeSend: function() {\\n      $('#text_info_upload').text('Uploading')\\n      $('.progress').show()\\n      $('.progress-bar').width('0%')\\n    },\\n    success: function(response) {\\n      $('#text_info_upload').text('Upload is successfully')\\n\\n      // wait 5 seconds\\n      var result = new Promise(function(resolve) {\\n        setTimeout(function() {\\n          resolve('success')\\n        }, 5000)\\n      })\\n\\n      result.then(function() {\\n          $('#text_info_upload').html('Drag and Drop file here<br/>or<br/>Click to select file')\\n          $('.progress').hide()\\n      })\\n    }\\n  })\\n}\\n\")), mdx(\"h2\", null, \"File PHP\"), mdx(\"p\", null, \"File \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"upload.php\"), \" bertugas untuk mengupload file ke folder \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uploads/\"), \". Setelah sukses diupload maka file php ini akan mengembalikan output dalam bentuk JSON, yang berisi nama file, ukuran, dan url  file yang diupload. Tanpa berlama-lama berikut kode selengkapnya: \"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"upload.php\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-c\"\n  }), \"<?php\\n\\n$fileName = $_FILES['file']['name'];\\n$fileSize =  $_FILES['file']['size'];\\n$location = \\\"uploads/\\\" . $fileName;\\n$returnArr = array();\\n\\nif (move_uploaded_file($_FILES['file']['tmp_name'], $location)) {\\n    $src = \\\"default.png\\\";\\n\\n    if (is_array(getimagesize($location))) {\\n        $src = $location;\\n    }\\n\\n    $returnArray = array(\\n        'name' => $fileName,\\n        'size'=> $fileSize,\\n        'src' => $src\\n    );\\n}\\n\\necho json_encode($returnArray);\\n\")), mdx(\"p\", null, \"Source code: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/khoufstudio/upload-file-drag-n-drop-with-progressbar-jquery-php\"\n  }), \"https://github.com/khoufstudio/upload-file-drag-n-drop-with-progressbar-jquery-php\")), mdx(\"p\", null, \"Sumber: \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://makitweb.com/drag-and-drop-file-upload-with-jquery-and-ajax/\"\n  }), \"https://makitweb.com/drag-and-drop-file-upload-with-jquery-and-ajax/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.laravelcode.com/post/how-to-files-upload-with-progress-bar-help-of-jquery-ajax-php\"\n  }), \"https://www.laravelcode.com/post/how-to-files-upload-with-progress-bar-help-of-jquery-ajax-php\"))));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"slug":"/blog/posts/2022/2022-03-30-upload_file_progress_bar_jquery/"},"frontmatter":{"title":"Upload File menggunakan drag and drop progressbar dengan jquery dan PHP","tags":["PHP","JS Basic","JQuery"],"date":"30 Maret 2022","thumbnail":{"publicURL":"/static/4a1a68374b793b857137d52540dd8c29/php-tutorial-logo.png"}}}},"pageContext":{"id":"a5d0f1d9-9926-592b-a183-9a48c05beab6"}},"staticQueryHashes":[]}