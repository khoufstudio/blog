{"componentChunkName":"component---src-components-post-page-template-index-js","path":"/blog/posts/2021/2021-12-09-download-csv-php-mysql/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Ekspor CSV menggunakan PHP dan MySQL\",\n  \"date\": \"2021-12-09T00:00:00.000Z\",\n  \"tags\": [\"PHP\", \"MySQL\"],\n  \"published\": true,\n  \"thumbnail\": \"php-mysql-tutorial.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Pada tutorial ini kita akan belajar tentang cara ekspor CSV menggunakan PHP dan MySQL. Sampel database yang akan digunakan dapat diunduh pada link berikut:\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/datacharmer/test_db\"\n  }), \"https://github.com/datacharmer/test_db\")), mdx(\"p\", null, \"Setelah database terunduh, kemudian buat projek folder. Misal kita berinama \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"php_mysql_export_csv\"), \". Setelah folder dibuat tambahkan file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"connection.php\"), \" di folder tersebut. File ini digunakan untuk menghubungi PHP dan MySQL. Kemudian isi dengan potongan kode di bawah ini:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"<?php\\n\\n// sesuaikan dengan setting di pc/laptop kalian\\n$servername = 'localhost'; \\n$username = 'root'; \\n$password = '';\\n$database = 'employee';\\n\\n// buat koneksi database\\n$connection = mysqli_connect($servername, $username, $password, $database);\\n\\n// cek koneksi\\nif (!$connection) {\\n    die(\\\"Connection failed: \\\" . mysqli_connect_error());\\n} \\n\")), mdx(\"p\", null, \"Sesuaikan dulu file diatas dengan setting yang terdapat di pc/laptop kalian. Setelah itu cek terlebih dahulu dengan menjalankan perintah berikut di terminal/cli: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"$ php connection.php\\n\")), mdx(\"p\", null, \"Jika tidak ada tulisan apapun yang muncul, maka file konfigurasi sudah berhasil. Kalo masih belum, cek kembali dan sesuaikan isi dari file tersebut. Setelah koneksi sukses langkah berikutnya adalah membuat file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"download_csv.php\"), \" yang isinya sebagai berikut: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"<?php\\n\\ninclude 'connection.php';\\n\\n$query = $connection->query('SELECT * FROM employees');\\n\\nif ($query->num_rows > 0) {\\n    $filename = 'ekspor_csv_' . date('d-m-Y') . '.csv';\\n    $delimiter = ',';\\n\\n    // Create file pointer\\n    $file = fopen('php://memory', 'w');\\n\\n    $fields = array('name', 'email');\\n\\n    fputcsv($file, $fields, $delimiter);\\n\\n    while ($row = $query->fetch_object()) {\\n        $lineData = array(\\\"$row->first_name  $row->last_name\\\", $row->last_name);\\n        fputcsv($file, $lineData, $delimiter);\\n    }\\n\\n    // Move back to beginning of file\\n    fseek($file, 0);\\n\\n    // Set headers to download file rather than displayed\\n    header('Content-Type: text/csv');\\n    header('Content-Disposition: attachment; filename=\\\"' . $filename . '\\\";');\\n\\n    // Output all remaining data on a file pointer\\n    fpassthru($file);\\n}\\n\\nexit;\\n\\n\")), mdx(\"p\", null, \"Setelah file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export_csv.php\"), \" dibuat, kita bisa jalankan perintah di bawah ini melalui terminal/cli.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"$ php -S localhost:8000\\n$ curl localhost:8000/export_csv.php > export.csv\\n\")), mdx(\"p\", null, \"Hasil file ekspor dapat dilihat di \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export.csv\"), \" di folder projek yang telah kita buat. Selain melalui cli/terminal, kita juga dapat mengunduh file csv tersebut melalui browser. Caranya adalah dengan membuka \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000/export_csv.php\"\n  }), \"link\"), \" berikut.\"), mdx(\"p\", null, \"Cukup sekilian tutorial ini, semoga bermanfaat.\"), mdx(\"p\", null, \"Sumber: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.codexworld.com/export-data-to-csv-file-using-php-mysql/\"\n  }), \"https://www.codexworld.com/export-data-to-csv-file-using-php-mysql/\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Ekspor CSV menggunakan PHP dan MySQL","date":"9 Desember 2021","thumbnail":{"publicURL":"/static/62b6ccc9584b6fa1f37208df5dea2a54/php-mysql-tutorial.png"}}}},"pageContext":{"id":"79fe1564-f373-56c6-97b4-b24203394e9a"}},"staticQueryHashes":[]}